<!DOCTYPE html><html lang="ko-KR" mode="light" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="일 전"><meta name="hour-prompt" content="시간 전"><meta name="minute-prompt" content="분 전"><meta name="justnow-prompt" content="방금"><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="JPA00. ORM과 RDB" /><meta name="author" content="bactoria" /><meta property="og:locale" content="ko_KR" /><meta name="description" content="현재 팀프로젝트를 하면서 JPA를 사용하기로 했다. 공부는 인프런에서 백기선님의 JPA강의를 보면서 공부하기로 했다. 6월달은 15% 할인이라 만원정도 싸게 구매했다. 이로써 백기선님의 강좌만 4개 째 듣게 되었다." /><meta property="og:description" content="현재 팀프로젝트를 하면서 JPA를 사용하기로 했다. 공부는 인프런에서 백기선님의 JPA강의를 보면서 공부하기로 했다. 6월달은 15% 할인이라 만원정도 싸게 구매했다. 이로써 백기선님의 강좌만 4개 째 듣게 되었다." /><link rel="canonical" href="https://bactoria.github.io/2019/06/06/JPA00.-ORM%EA%B3%BC-RDB/" /><meta property="og:url" content="https://bactoria.github.io/2019/06/06/JPA00.-ORM%EA%B3%BC-RDB/" /><meta property="og:site_name" content="Bactoria" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2019-06-06T00:00:00+00:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="JPA00. ORM과 RDB" /><meta name="twitter:site" content="@twitter_username" /><meta name="twitter:creator" content="@bactoria" /><meta name="google-site-verification" content="google7bf670670a870e33.html" /> <script type="application/ld+json"> {"author":{"@type":"Person","name":"bactoria"},"description":"현재 팀프로젝트를 하면서 JPA를 사용하기로 했다. 공부는 인프런에서 백기선님의 JPA강의를 보면서 공부하기로 했다. 6월달은 15% 할인이라 만원정도 싸게 구매했다. 이로써 백기선님의 강좌만 4개 째 듣게 되었다.","url":"https://bactoria.github.io/2019/06/06/JPA00.-ORM%EA%B3%BC-RDB/","@type":"BlogPosting","headline":"JPA00. ORM과 RDB","dateModified":"2019-06-06T00:00:00+00:00","datePublished":"2019-06-06T00:00:00+00:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://bactoria.github.io/2019/06/06/JPA00.-ORM%EA%B3%BC-RDB/"},"@context":"https://schema.org"}</script><title>JPA00. ORM과 RDB | Bactoria</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Bactoria"><meta name="application-name" content="Bactoria"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="ko-KR"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="https://avatars.githubusercontent.com/u/25674959?v=4" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Bactoria</a></div><div class="site-subtitle font-italic">for Self-Motivation</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>홈</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>카테고리</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>태그</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>아카이브</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>정보</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/bactoria" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['bactoria','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> 홈 </a> </span> <span>JPA00. ORM과 RDB</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> 포스트</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="검색..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >취소</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>JPA00. ORM과 RDB</h1><div class="post-meta text-muted"><div> By <em> <a href="https://github.com/bactoria">bactoria</a> </em></div><div class="d-flex"><div> <span> 게시 <em class="timeago" date="2019-06-06 00:00:00 +0000" data-toggle="tooltip" data-placement="bottom" title="2019-06-06, 00:00 +0000" >2019년 06월 06일</em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2271 단어"> <em>12 분</em>읽는 시간</span></div></div></div><div class="post-content"><p>현재 팀프로젝트를 하면서 JPA를 사용하기로 했다. 공부는 인프런에서 백기선님의 JPA강의를 보면서 공부하기로 했다. 6월달은 15% 할인이라 만원정도 싸게 구매했다. 이로써 백기선님의 강좌만 4개 째 듣게 되었다.</p><p>블로깅의 상당수는 강좌 내용이 될 것 같다. 최근 유튜브 스트리밍 방송에서 개인 블로그에 포스팅은 얼마든지 괜찮다고 말씀해주셔서 마음 편히 정리하면서 공부하고자 한다. (몇일 뒤 인프런에도 포스팅 관련 공지가 떴다.</p><p>   </p><h2 id="orm-object-relation-mapping-">ORM (Object-Relation Mapping) ?<a href="#orm-object-relation-mapping-" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>ORM : 객체를 테이블로 매핑하는 기술이다? 는 ORM의 아주 일부 기능임</p><p>ORM의 구현체인 jpa, hibernate의 특징들이 있음. 이 특징들을 알아야 코딩을 할 때 비효율적인 쿼리를 방지할 수 있음.</p><blockquote><p>Class와 Table 사이의 매핑 정보를 기술한 메타데이터를 사용하여, 객체를 테이블에 자동으로 영속화해주는 기술</p></blockquote><p> </p><h3 id="전통적인-사용-방식-jdbc">전통적인 사용 방식 (JDBC)<a href="#전통적인-사용-방식-jdbc" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>(java7 이상)</p><div class="language-java highlighter-rouge"><div class="code-header"> <span label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="k">try</span><span class="o">(</span><span class="nc">Connection</span> <span class="n">connection</span> <span class="o">=</span> <span class="nc">DriverManager</span><span class="o">.</span><span class="na">getConnection</span><span class="o">(</span><span class="n">url</span><span class="o">,</span> <span class="n">username</span><span class="o">,</span> <span class="n">password</span><span class="o">))</span> <span class="o">{</span>
    <span class="nc">String</span> <span class="n">sql</span> <span class="o">=</span> <span class="s">"INSERT INTO ACCOUNT VALUES(1, "</span><span class="n">keesun</span><span class="s">", "</span><span class="n">pass</span><span class="s">");"</span><span class="o">;</span>
    <span class="k">try</span><span class="o">(</span><span class="nc">PreparedStatement</span> <span class="n">statement</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="na">prepareStatement</span><span class="o">(</span><span class="n">sql</span><span class="o">)){</span>
        <span class="n">statement</span><span class="o">.</span><span class="na">execute</span><span class="o">();</span>
<span class="o">}</span>
</pre></table></code></div></div><p>비즈니스와 관계없는(침투적인) 코드가 많음. (자바7 이전에는 리소스 반납 처리를 해야 해서 코드가 더 길었다고.. )</p><p> </p><h3 id="domain-model-방식">Domain Model 방식<a href="#domain-model-방식" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><div class="language-java highlighter-rouge"><div class="code-header"> <span label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nc">Account</span> <span class="n">account</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Account</span><span class="o">(</span><span class="s">"keesun"</span><span class="o">,</span> <span class="s">"pass"</span><span class="o">);</span>
<span class="n">accountReository</span><span class="o">.</span><span class="na">save</span><span class="o">(</span><span class="n">account</span><span class="o">);</span>
</pre></table></code></div></div><p>JDBC와 관련된(침투적) 코드가 없어서 비즈니스에 집중할 수 있다. (유지보수성 좋다.) =&gt; 자신의 코드를 숨기려 하는 비침투적인 스프링의 철학과 비슷</p><p>생산성 굿. DDL도 알아서 만들어줌. CRUD도 뚝딱뚝딱!</p><p>그럼 성능은? =&gt; JPA에 대해서 충분한 학습 없이 사용하면 구릴 수 있음. 많은 학습이 필요함.</p><p>   </p><h2 id="java와-rdb의-패러다임-불일치를-orm이-해결해준다">Java와 RDB의 패러다임 불일치를 ORM이 해결해준다!<a href="#java와-rdb의-패러다임-불일치를-orm이-해결해준다" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>JAVA &lt;–&gt; RDB 는 패러다임이 서로 다른 부분이 존재함. 어떠한 차이점이 있는지 확인해보자. ORM이 어떤 일을 하는건지를 알 수 있을거임.</p><p>RDB: 데이터를 어떻게 하면 잘 저장하고 정규화하고 할 수 있을까</p><p>객체: 상속,</p><p> </p><h3 id="1-밀도granularity">1) 밀도(Granularity)<a href="#1-밀도granularity" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><div class="language-java highlighter-rouge"><div class="code-header"> <span label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="nc">Public</span> <span class="kd">class</span> <span class="nc">User</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">address</span><span class="o">;</span>
<span class="o">}</span>
</pre></table></code></div></div><p>=&gt; 이건 User 테이블에 address 필드 (VARCHAR(45)) 넣어주면 되겠구먼!</p><p> </p><div class="language-java highlighter-rouge"><div class="code-header"> <span label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="nc">Public</span> <span class="kd">class</span> <span class="nc">User</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="nc">Address</span> <span class="n">address</span><span class="o">;</span>
<span class="o">}</span>
</pre></table></code></div></div><p>=&gt; Address와 같은 커스텀한 타입(객체)를 RDB에서는 표현 못함. 이걸 어떻게 매핑시킬꺼냐?</p><p> </p><h3 id="2-서브타입subtype">2) 서브타입(Subtype)<a href="#2-서브타입subtype" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>객체는 상속하기 쉽다. (다형성) 테이블은 상속이 없다. (다형성 없음)</p><p> </p><p>유저는 여러가지 결제 수단중에서 한가지의 결제수단를 가짐.</p><div class="language-java highlighter-rouge"><div class="code-header"> <span label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">User</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="nc">BillingAccount</span> <span class="n">billingAccount</span><span class="o">;</span>

<span class="o">}</span>
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">BillingAccount</code> : 사용자가 사용하는 결제수단 (인터페이스)</p><p>BillingAccount의 구현체 : <code class="language-plaintext highlighter-rouge">BankAccount.class</code>, <code class="language-plaintext highlighter-rouge">CreditCard.class</code></p><p>RDB에서는 USER 테이블에서 두 결제수단 테이블의 PK를 FK로 가질 수 있을까?? 아니 없다.</p><p>테이블 간에 FK는 한 테이블이 다른 테이블의 PK를 FK로 사용하는 것임. 다른 두 테이블에 있는 외래키를 설정할 수는 없음. (다른 두 테이블간의 외래키가 겹칠수도 있고..)</p><p> </p><h3 id="3-식별성-identity">3) 식별성 (Identity)<a href="#3-식별성-identity" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>Java에서는 인스턴스가 같은지 확인할 때 2가지 방법이 있음.</p><ol><li>레퍼런스의 동일성 체크 (==)<li>인스턴스의 동일성 체크 (.equals())</ol><p>자바에서 권장하는 동일성 체크는 equals이나, RDB로 변환시키기에는 equals()로 충분하지 않음.</p><p>어떤 한 테이블에서 두 레코드(로우) 간의 동일성은 PK로 확인함. PK가 같냐 다르냐에 따라 레코드가 같은지 아닌지를 판단함. 하지만 Java 패러다임에는 PK 개념이 없음.</p><p>엥? equals 재정의하면 pk처럼 쓸수있는거 아닌가..?</p><p> </p><h3 id="4-연관-관계-association">4) 연관 관계 (Association)<a href="#4-연관-관계-association" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>Java에서 관계는 레퍼런스로 표현</p><div class="language-java highlighter-rouge"><div class="code-header"> <span label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Study</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="nc">User</span> <span class="n">owner</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">User</span><span class="o">&gt;</span> <span class="n">users</span><span class="o">;</span>
    <span class="c1">// ...</span>
<span class="o">}</span>
</pre></table></code></div></div><p>Study에 User를 레퍼런스로 등록함으로써 두 클래스의 관계가 생김. 이 관계에는 방향이 있다. (Study에서 User를 참조.)</p><p>User에서 Study를 참조하고 싶다면 User 클래스에 Set<Study>를 추가하면 됨.</Study></p><p>RDB에서의 관계는 오로지 FK로만 표현함. Study의 FK에는 User의 PK가 있음. RDB는 단방향이 없음. 관계 맺으면 단방향임.</p><p>물리적 모델링에서의 카디널리티는 무조건 1:1 / 1:N 임. N:N가 없음. 허나, 자바 패러다임은 N:N를 허용함 (ORM이 객체에서 릴레이션으로 표현할 때 N:N을 해소해줌.)</p><p> </p><h3 id="데이터-네비게이션-navigation">데이터 네비게이션 (Navigation)<a href="#데이터-네비게이션-navigation" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>레퍼런스를 타고 원하는대로 타고 타고 가서 원하는 데이터를 갖는거.</p><p>릴레이션에서는 이런 기능 없음. 원하는 데이터를 매번 조인해서 가져와야 함.</p><p>ex) 어떤 한 스터디의 스터디장이 참여하는 스터디들의 스터디장 정보를 원해.</p><div class="language-java highlighter-rouge"><div class="code-header"> <span label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="c1">// Study.class 일부</span>
<span class="n">getOwner</span><span class="o">().</span><span class="na">getMyStudy</span><span class="o">().</span><span class="na">stream</span><span class="o">().</span><span class="na">forEach</span><span class="o">(</span><span class="n">s</span> <span class="o">-&gt;</span> <span class="n">s</span><span class="o">.</span><span class="na">getOwner</span><span class="o">());</span>
</pre></table></code></div></div><ul><li>어떤 한 스터디의 데이터 받아오기 (Study 테이블 쿼리)<li>그 스터디의 스터디장 정보(FK)를 사용해서 유저 정보 받아오기 (USER 테이블 쿼리)<li>그 유저의 USER 정보를 사용해서 참여하고 있는 스터디 정보 받아오기 (스터디 이력 테이블 쿼리)<li>각 스터디들의 오더정보들을 쿼리 (Study 테이블 쿼리)</ul><p>=&gt; 다수의 쿼리가 발생함. 성능 매우 안좋아져!!</p><p> </p><p>한 트랜잭션 내에서 많은 조인을 하는 방법이 있지만, 이것도 문제임. 데이터 왕창 메모리에 올려놓는 것은 비효율적(DB 부하, 앱 메모리부하 ) 정말 그 많은 데이터를 쓰는지… 고민을 해봐야함.</p><p>하이버네이트에서 lazyLoading을 사용할 때, 주의해서 사용해야 함. <strong>N+1 Problem</strong>이 있음. (이 문제는 이동욱님 블로그에도 있음. 근데 아직 이해가 안됨.ㅠ)</p><p>getMyStudy() 할 때 조인하지 않고 스터디 목록만 읽어와서 스터디 목록을 화면에 표시할 때 마다 셀렉트한다면 이 때 N+1 문제가 발생</p><p>=&gt; 스터디 목록 처음에 읽어올 때 1번 읽음(1) + 그 다음에 스터디 목록을 순회하면서 n번의 쿼리가 발생함(N) 성능 구데기임.</p><p>이를 해결하려면</p><ul><li>애초에 스터디를 쿼리할때 조인해서 오너정보를 가져오는 방법<li>LazyLoading 할 때 한번에 큰 뭉텅이로 (ex. 50개씩 가져와라) 가져오는 방법 (N/50 + 1)</ul><p> </p><p>이러한 패러다임의 차이를 줄이고 줄여서 상용화할 수 있도록 호환되도록 노력하는게 ORM 임. 어렵고, 러닝커브가 크다는 것이 이런 패러다임의 차이 때문임.</p><p>   </p><h2 id="번외">번외<a href="#번외" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><h3 id="orm의-사실과-오해---okky"><a href="https://okky.kr/article/286812">ORM의 사실과 오해 - OKKY</a><a href="#orm의-사실과-오해---okky" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>4년 전, OKKY에서 ORM과 Mapper에 대한 토론글이다. 양이 매우 방대하다. 읽다가 말았음.</p><p> </p><h3 id="alternatives-to-jpa"><a href="https://www.youtube.com/watch?v=2zQdmC0vnFU">Alternatives to JPA</a><a href="#alternatives-to-jpa" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>쿠팡의 배성혁님이 네이버 D2에서 발표하신 강연이다. 강연의 초반 20분 정도는 JPA의 장단점, 어떻게 대해야 하는지에 대한 설명이 있어서 좋았다. 대충 끄적여보면, 자신의 프로젝트에 ORM, MyBatis 선택은 시스템 성격상 달라져야 한다.(솔루션 업체는 고객이 원하는 DB에 맞춰서 개발해야 하니까 ORM 쓰면 좋음. 서비스 업체는 DB를 깊숙한 곳까지 최적화 해야 하는데 굳이 ORM을 써야할까) 어쨌든 JPA쓸꺼면 제대로 알고 써야 하며, 러닝커브가 큼. JPA 정말 잘 알고 써야하고, JPA 쓴다고 해서 SQL를 몰라서도 안됨. (@NatualID, @DynamicInsert, @LazyCollection 등을 제대로 활용 안하면서 JPA 꾸지다는 사람은 공부를 깊이 안한걸로..)</p><p>이 영상에 좋은 내용이 아주 많음. 앞으로 영상을 반복해서 볼 것 같음.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/jpa/'>JPA</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> 이 기사는 저작권자의 <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> 라이센스를 따릅니다.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">공유하기</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=JPA00. ORM과 RDB - Bactoria&url=https://bactoria.github.io/2019/06/06/JPA00.-ORM%EA%B3%BC-RDB/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=JPA00. ORM과 RDB - Bactoria&u=https://bactoria.github.io/2019/06/06/JPA00.-ORM%EA%B3%BC-RDB/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=JPA00. ORM과 RDB - Bactoria&url=https://bactoria.github.io/2019/06/06/JPA00.-ORM%EA%B3%BC-RDB/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="링크 복사하기" title-succeed="링크가 복사되었습니다!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">최근 업데이트</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/2022/02/04/2022%EB%85%84-1%EC%9B%94-%ED%9A%8C%EA%B3%A0/">2022년 1월 회고</a><li><a href="/2022/01/02/2021%EB%85%84-%ED%9A%8C%EA%B3%A0/">2021년 회고</a><li><a href="/2020/04/19/%EB%A7%88%EC%8A%A4%ED%81%AC-%EA%B5%AC%EB%A7%A4-%EC%95%8C%EB%A6%AC%EB%AF%B8-%EC%84%9C%EB%B9%84%EC%8A%A4-%ED%9B%84%EA%B8%B0/">마스크 구매 알리미 서비스 후기</a><li><a href="/2021/08/15/%EA%B3%A0%EC%96%91%EC%8B%9C-%EB%85%B8%EA%B3%A0%EC%82%B0-%EB%B0%B1%ED%8C%A8%ED%82%B9/">고양시 노고산 백패킹</a><li><a href="/2021/05/16/2021%EB%85%84-19%EC%A3%BC%EC%B0%A8-%ED%9A%8C%EA%B3%A0/">2021년 19주차 회고</a></ul></div><div id="access-tags"><div class="panel-heading">인기 태그</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/%EA%B3%B5%EB%AA%A8%EC%A0%84/">공모전</a> <a class="post-tag" href="/tags/%EB%B9%85%EC%8A%A4%EB%B9%84%EC%B1%8C%EB%A6%B0%EC%A7%80/">빅스비챌린지</a> <a class="post-tag" href="/tags/%EC%9D%B4%EB%B2%88%EC%A3%BC%EC%97%90%EA%B5%AC%EB%A7%A4%ED%95%9C%EC%B1%85/">이번주에구매한책</a> <a class="post-tag" href="/tags/%EA%B0%9C%EB%B0%9C/">개발</a> <a class="post-tag" href="/tags/%EA%B5%AC%EA%B8%80%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C%EC%9E%BC/">구글클라우드잼</a> <a class="post-tag" href="/tags/%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8/">오브젝트</a> <a class="post-tag" href="/tags/%EC%9A%B0%EC%95%84%ED%95%9C%ED%85%8C%ED%81%AC%EC%BD%94%EC%8A%A4/">우아한테크코스</a> <a class="post-tag" href="/tags/%EC%B7%A8%EC%97%85/">취업</a> <a class="post-tag" href="/tags/%ED%94%BC%EB%93%9C%EB%B0%B1/">피드백</a> <a class="post-tag" href="/tags/coc/">CoC</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">바로가기</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>관련된 글</h3><div class="card-deck mb-4"><div class="card"> <a href="/2019/06/08/JPA01.-%EC%97%94%ED%84%B0%ED%8B%B0/"><div class="card-body"> <em class="timeago small" date="2019-06-08 00:00:00 +0000" >2019년 06월 08일</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>JPA01. 엔터티</h3><div class="text-muted small"><p> Entity Type 1 2 3 4 5 6 7 8 9 @Entity @Getter @Setter public class Account { @Id @GeneratedValue private Long id; private String username; private String password; } @Entity : D...</p></div></div></a></div><div class="card"> <a href="/2019/06/09/JPA02.-%EA%B4%80%EA%B3%84/"><div class="card-body"> <em class="timeago small" date="2019-06-09 00:00:00 +0000" >2019년 06월 09일</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>JPA02. 관계</h3><div class="text-muted small"><p> 1:N 관계 @ManyToOne 단방향 1 2 3 4 5 6 7 8 9 10 11 12 @Getter @Setter @Entity public class Account { @Id @GeneratedValue private Long id; @Column(nullable=false, unique=true) private...</p></div></div></a></div><div class="card"> <a href="/2019/06/09/JPA03.-%EC%97%94%ED%84%B0%ED%8B%B0-%EC%83%9D%EB%AA%85%EC%A3%BC%EA%B8%B0/"><div class="card-body"> <em class="timeago small" date="2019-06-09 00:00:00 +0000" >2019년 06월 09일</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>JPA03. 엔터티 생명주기</h3><div class="text-muted small"><p> Transient (비영속 상태) jpa랑 관련없음. 1 2 3 Account account = new Account(); account.setUsesrname(&quot;keesun2&quot;); account.setPassword(&quot;jpa&quot;);   Persistent (영속 상태) 영속성 컨텍스트에 저장된 상태 1 2 3 4 5 Session sess...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/2019/06/04/2019%EB%85%84-22%EC%A3%BC%EC%B0%A8-%ED%9A%8C%EA%B3%A0/" class="btn btn-outline-primary" prompt="이전 글"><p>2019년 22주차 회고</p></a> <a href="/2019/06/06/currentUser/" class="btn btn-outline-primary" prompt="다음 글"><p>currentUser</p></a></div><div id="disqus_thread" class="pt-2 pb-2"><p class="text-center text-muted small"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script type="text/javascript"> var disqus_config = function () { this.page.url = 'https://bactoria.github.io/2019/06/06/JPA00.-ORM%EA%B3%BC-RDB/'; this.page.identifier = '/2019/06/06/JPA00.-ORM%EA%B3%BC-RDB/'; }; /* Lazy loading */ var disqus_observer = new IntersectionObserver(function (entries) { if(entries[0].isIntersecting) { (function () { var d = document, s = d.createElement('script'); s.src = 'https://bactoria.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); disqus_observer.disconnect(); } }, { threshold: [0] }); disqus_observer.observe(document.querySelector('#disqus_thread')); /* Auto switch theme */ function reloadDisqus() { /* Disqus hasn't been loaded */ if (typeof DISQUS === "undefined") { return; } if (document.readyState == 'complete') { DISQUS.reset({ reload: true, config: disqus_config }); } } const modeToggle = document.querySelector(".mode-toggle"); if (typeof modeToggle !== "undefined") { /* modeToggle.addEventListener('click', reloadDisqus); // not pretty for 'color-scheme' */ window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', reloadDisqus); } </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://github.com/bactoria">bactoria</a>. <span data-toggle="tooltip" data-placement="top" title="명시되지 않는 한 이 사이트의 블로그 게시물은 작성자의 Creative Commons Attribution 4.0 International(CC BY 4.0) 라이선스에 따라 사용이 허가되었습니다.">일부 권리 보유</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">인기 태그</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/%EA%B3%B5%EB%AA%A8%EC%A0%84/">공모전</a> <a class="post-tag" href="/tags/%EB%B9%85%EC%8A%A4%EB%B9%84%EC%B1%8C%EB%A6%B0%EC%A7%80/">빅스비챌린지</a> <a class="post-tag" href="/tags/%EC%9D%B4%EB%B2%88%EC%A3%BC%EC%97%90%EA%B5%AC%EB%A7%A4%ED%95%9C%EC%B1%85/">이번주에구매한책</a> <a class="post-tag" href="/tags/%EA%B0%9C%EB%B0%9C/">개발</a> <a class="post-tag" href="/tags/%EA%B5%AC%EA%B8%80%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C%EC%9E%BC/">구글클라우드잼</a> <a class="post-tag" href="/tags/%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8/">오브젝트</a> <a class="post-tag" href="/tags/%EC%9A%B0%EC%95%84%ED%95%9C%ED%85%8C%ED%81%AC%EC%BD%94%EC%8A%A4/">우아한테크코스</a> <a class="post-tag" href="/tags/%EC%B7%A8%EC%97%85/">취업</a> <a class="post-tag" href="/tags/%ED%94%BC%EB%93%9C%EB%B0%B1/">피드백</a> <a class="post-tag" href="/tags/coc/">CoC</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">검색 결과가 없습니다.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script>
