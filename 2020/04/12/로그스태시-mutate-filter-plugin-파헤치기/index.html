<!DOCTYPE html><html lang="ko-KR" mode="light" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="일 전"><meta name="hour-prompt" content="시간 전"><meta name="minute-prompt" content="분 전"><meta name="justnow-prompt" content="방금"><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="로그스태시 mutate filter plugin 파헤치기" /><meta name="author" content="bactoria" /><meta property="og:locale" content="ko_KR" /><meta name="description" content="raw data를 Elasticsearch로 밀어넣기 전에, 사용하기 편하도록 가공이 필요하다." /><meta property="og:description" content="raw data를 Elasticsearch로 밀어넣기 전에, 사용하기 편하도록 가공이 필요하다." /><link rel="canonical" href="https://bactoria.github.io/2020/04/12/%EB%A1%9C%EA%B7%B8%EC%8A%A4%ED%83%9C%EC%8B%9C-mutate-filter-plugin-%ED%8C%8C%ED%97%A4%EC%B9%98%EA%B8%B0/" /><meta property="og:url" content="https://bactoria.github.io/2020/04/12/%EB%A1%9C%EA%B7%B8%EC%8A%A4%ED%83%9C%EC%8B%9C-mutate-filter-plugin-%ED%8C%8C%ED%97%A4%EC%B9%98%EA%B8%B0/" /><meta property="og:site_name" content="Bactoria" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-04-12T04:20:12+00:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="로그스태시 mutate filter plugin 파헤치기" /><meta name="twitter:site" content="@twitter_username" /><meta name="twitter:creator" content="@bactoria" /><meta name="google-site-verification" content="google7bf670670a870e33.html" /> <script type="application/ld+json"> {"author":{"@type":"Person","name":"bactoria"},"description":"raw data를 Elasticsearch로 밀어넣기 전에, 사용하기 편하도록 가공이 필요하다.","url":"https://bactoria.github.io/2020/04/12/%EB%A1%9C%EA%B7%B8%EC%8A%A4%ED%83%9C%EC%8B%9C-mutate-filter-plugin-%ED%8C%8C%ED%97%A4%EC%B9%98%EA%B8%B0/","@type":"BlogPosting","headline":"로그스태시 mutate filter plugin 파헤치기","dateModified":"2020-04-12T02:58:37+00:00","datePublished":"2020-04-12T04:20:12+00:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://bactoria.github.io/2020/04/12/%EB%A1%9C%EA%B7%B8%EC%8A%A4%ED%83%9C%EC%8B%9C-mutate-filter-plugin-%ED%8C%8C%ED%97%A4%EC%B9%98%EA%B8%B0/"},"@context":"https://schema.org"}</script><title>로그스태시 mutate filter plugin 파헤치기 | Bactoria</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Bactoria"><meta name="application-name" content="Bactoria"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="ko-KR"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="https://avatars.githubusercontent.com/u/25674959?v=4" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Bactoria</a></div><div class="site-subtitle font-italic">for Self-Motivation</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>홈</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>카테고리</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>태그</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>아카이브</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>정보</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/bactoria" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['bactoria','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> 홈 </a> </span> <span>로그스태시 mutate filter plugin 파헤치기</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> 포스트</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="검색..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >취소</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>로그스태시 mutate filter plugin 파헤치기</h1><div class="post-meta text-muted"><div> By <em> <a href="https://github.com/bactoria">bactoria</a> </em></div><div class="d-flex"><div> <span> 게시 <em class="timeago" date="2020-04-12 04:20:12 +0000" data-toggle="tooltip" data-placement="bottom" title="2020-04-12, 04:20 +0000" >2020년 04월 12일</em> </span> <span> 업데이트 <em class="timeago" date="2020-04-12 11:58:37 +0900 " data-toggle="tooltip" data-placement="bottom" title="2020-04-12, 11:58 +0900" >2020년 04월 12일</em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1681 단어"> <em>9 분</em>읽는 시간</span></div></div></div><div class="post-content"><p>raw data를 Elasticsearch로 밀어넣기 전에, 사용하기 편하도록 가공이 필요하다.</p><p>이는 Logstash의 filter로 해결할 수 있는데, 특정 필드를 가공하는 방법 중에 <strong><code class="language-plaintext highlighter-rouge">mutate filter plugin</code></strong> 가 있다.</p><p>해당 플러그인은 <a href="https://www.elastic.co/guide/en/logstash/current/plugins-filters-mutate.html#plugins-filters-mutate-convert">공식문서</a>에 설명이 잘 되어있다.</p><p><img data-src="https://user-images.githubusercontent.com/25674959/79037601-a7cefa00-7c0d-11ea-87ef-b3ed43892fc2.png" alt="image" data-proofer-ignore></p><p>( 공식문서에서의 <strong><code class="language-plaintext highlighter-rouge">mutate filter plugin</code></strong> 의 <code class="language-plaintext highlighter-rouge">gsub</code> 옵션에 대한 설명이다. )</p><p>공식문서에는 위와 같은 식으로 여러 옵션들이 친절하게 설명되어 있다.</p><p>하지만 예시가 없어서 개인적으로 한 눈에 와닿지가 않았었는데, 공부도 할 겸 하나씩 사용해보며 예시를 남기고자 한다.</p><p>이 글이 <strong><code class="language-plaintext highlighter-rouge">mutate filter plugin</code></strong> 를 오랫만에 접할 미래의 나와 **`mutate filter plugin 를 처음 학습하는 사용자에게 조금이나마 도움이 되었으면 한다.</p><hr /><h2 id="mutate-filter-plugin">Mutate filter plugin<a href="#mutate-filter-plugin" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p><strong><code class="language-plaintext highlighter-rouge">mutate filter plugin</code></strong> 의 옵션으로는 아래와 같다.</p><ol><li><strong><code class="language-plaintext highlighter-rouge">convert</code></strong><li><strong><code class="language-plaintext highlighter-rouge">copy</code></strong><li><strong><code class="language-plaintext highlighter-rouge">gsub</code></strong><li><strong><code class="language-plaintext highlighter-rouge">join</code></strong><li><strong><code class="language-plaintext highlighter-rouge">split</code></strong><li><strong><code class="language-plaintext highlighter-rouge">lowercase, uppercase</code></strong><li><strong><code class="language-plaintext highlighter-rouge">capitalize</code></strong><li><strong><code class="language-plaintext highlighter-rouge">merge</code></strong><li><strong><code class="language-plaintext highlighter-rouge">coerce</code></strong><li><strong><code class="language-plaintext highlighter-rouge">update</code></strong><li><strong><code class="language-plaintext highlighter-rouge">replace</code></strong><li><strong><code class="language-plaintext highlighter-rouge">strip</code></strong><li><strong><code class="language-plaintext highlighter-rouge">rename</code></strong></ol><p> </p><h3 id="1-convert">1. convert<a href="#1-convert" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>해당 필드를 형변환한다.</p><p> </p><p><strong>logstash.conf</strong></p><div class="language-ruby highlighter-rouge"><div class="code-header"> <span label-text="Ruby"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre><td class="rouge-code"><pre><span class="n">input</span> <span class="p">{</span>
  <span class="n">stdin</span><span class="p">{</span>
    <span class="n">codec</span> <span class="o">=&gt;</span> <span class="n">json</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">filter</span> <span class="p">{</span>
  <span class="n">mutate</span> <span class="p">{</span>
    <span class="n">convert</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="s2">"field1"</span> <span class="o">=&gt;</span> <span class="s2">"integer"</span>
      <span class="s2">"field2"</span> <span class="o">=&gt;</span> <span class="s2">"integer_eu"</span>
      <span class="s2">"field3"</span> <span class="o">=&gt;</span> <span class="s2">"float"</span>
      <span class="s2">"field4"</span> <span class="o">=&gt;</span> <span class="s2">"float_eu"</span>
      <span class="s2">"field5"</span> <span class="o">=&gt;</span> <span class="s2">"string"</span>
      <span class="s2">"field6"</span> <span class="o">=&gt;</span> <span class="s2">"boolean"</span>  
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">output</span> <span class="p">{</span>
  <span class="n">stdout</span><span class="p">{}</span>
<span class="p">}</span>
</pre></table></code></div></div><p> </p><h4 id="1-field1--integer">1) “field1” =&gt; “integer”<a href="#1-field1--integer" class="anchor"><i class="fas fa-hashtag"></i></a></h4></h4><p><img width="500" alt="스크린샷 2020-04-11 오후 7 47 23" data-src="https://user-images.githubusercontent.com/25674959/79041765-47e84b80-7c2d-11ea-95a2-158d1d1c42a9.png" data-proofer-ignore></p><p> </p><h4 id="2-field2--integer_eu">2) “field2” =&gt; “integer_eu”<a href="#2-field2--integer_eu" class="anchor"><i class="fas fa-hashtag"></i></a></h4></h4><p><img width="500" alt="스크린샷 2020-04-11 오후 7 46 03" data-src="https://user-images.githubusercontent.com/25674959/79041754-21c2ab80-7c2d-11ea-86cc-f3a3cb2382ca.png" data-proofer-ignore></p><h4 id="3-field3--float">3) “field3” =&gt; “float”<a href="#3-field3--float" class="anchor"><i class="fas fa-hashtag"></i></a></h4></h4><p><img width="500" alt="스크린샷 2020-04-11 오후 7 51 01" data-src="https://user-images.githubusercontent.com/25674959/79041820-c8a74780-7c2d-11ea-8c1c-a0dd846fea2b.png" data-proofer-ignore></p><h4 id="4-field4--float_eu">4) “field4” =&gt; “float_eu”<a href="#4-field4--float_eu" class="anchor"><i class="fas fa-hashtag"></i></a></h4></h4><p><img width="500" alt="스크린샷 2020-04-11 오후 7 55 19" data-src="https://user-images.githubusercontent.com/25674959/79041911-613dc780-7c2e-11ea-8ff9-c59239665f2f.png" data-proofer-ignore></p><h4 id="5-field5--string">5) “field5” =&gt; “string”<a href="#5-field5--string" class="anchor"><i class="fas fa-hashtag"></i></a></h4></h4><p><img width="500" alt="스크린샷 2020-04-11 오후 7 58 36" data-src="https://user-images.githubusercontent.com/25674959/79041975-d7422e80-7c2e-11ea-82ec-d4ae09cf6b99.png" data-proofer-ignore></p><h4 id="6-field6--boolean">6) “field6” =&gt; “boolean”<a href="#6-field6--boolean" class="anchor"><i class="fas fa-hashtag"></i></a></h4></h4><p><img width="500" alt="스크린샷 2020-04-11 오후 8 01 32" data-src="https://user-images.githubusercontent.com/25674959/79042042-3f911000-7c2f-11ea-8e54-c2cc59edacec.png" data-proofer-ignore></p><ul><li><p>false: <code class="language-plaintext highlighter-rouge">0</code>, <code class="language-plaintext highlighter-rouge">0.0</code>, <code class="language-plaintext highlighter-rouge">"0"</code>, <code class="language-plaintext highlighter-rouge">"0.0"</code>, <code class="language-plaintext highlighter-rouge">"false"</code>, <code class="language-plaintext highlighter-rouge">"f"</code>, <code class="language-plaintext highlighter-rouge">"no"</code>, <code class="language-plaintext highlighter-rouge">"n"</code></p><li><p>true: <code class="language-plaintext highlighter-rouge">1</code>, <code class="language-plaintext highlighter-rouge">1.0</code>, <code class="language-plaintext highlighter-rouge">"1"</code>, <code class="language-plaintext highlighter-rouge">"1.0"</code>, “true”, <code class="language-plaintext highlighter-rouge">"t"</code>, <code class="language-plaintext highlighter-rouge">"yes"</code>,<code class="language-plaintext highlighter-rouge"> "y"</code></p></ul><p> </p><p>( convert의 경우에는 예시가 공식문서에 아주 잘 나와 있었다. )</p><p> </p><p> </p><h3 id="2-copy">2. copy<a href="#2-copy" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>필드의 값을 복제한다.</p><p> </p><p><strong>logstash.conf</strong></p><div class="language-ruby highlighter-rouge"><div class="code-header"> <span label-text="Ruby"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="n">input</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}</span>

<span class="n">filter</span> <span class="p">{</span>
  <span class="n">mutate</span> <span class="p">{</span>
    <span class="n">copy</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="s2">"field1"</span> <span class="o">=&gt;</span> <span class="s2">"field1_copied"</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">output</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}</span>
</pre></table></code></div></div><p> </p><p><strong>input / output</strong></p><p><img width="500" alt="스크린샷 2020-04-11 오후 8 08 23" data-src="https://user-images.githubusercontent.com/25674959/79042145-348aaf80-7c30-11ea-9d58-d180f5605a67.png" data-proofer-ignore></p><p> </p><p> </p><h3 id="3-gsub">3. gsub<a href="#3-gsub" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>정규식으로 일치하는 항목을 다른 문자열로 대체한다.</p><p> </p><p><strong>logstash.conf</strong></p><div class="language-ruby highlighter-rouge"><div class="code-header"> <span label-text="Ruby"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="n">input</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}</span>

<span class="n">filter</span> <span class="p">{</span>
  <span class="n">mutate</span> <span class="p">{</span>
    <span class="nb">gsub</span> <span class="o">=&gt;</span> <span class="p">[</span>
      <span class="s2">"field1"</span><span class="p">,</span> <span class="s2">"/"</span><span class="p">,</span> <span class="s2">"_"</span><span class="p">,</span>
      <span class="s2">"field2"</span><span class="p">,</span> <span class="s2">"[</span><span class="se">\\</span><span class="s2">?#-]"</span><span class="p">,</span> <span class="s2">"."</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">output</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}</span>
</pre></table></code></div></div><p> </p><p><strong>input / output</strong></p><p><img width="500" alt="스크린샷 2020-04-11 오후 8 16 10" data-src="https://user-images.githubusercontent.com/25674959/79042284-4c166800-7c31-11ea-9796-dc318dc14bd4.png" data-proofer-ignore></p><ul><li><p><strong><code class="language-plaintext highlighter-rouge">field1</code></strong>: <code class="language-plaintext highlighter-rouge">/</code> =&gt; <code class="language-plaintext highlighter-rouge">_</code></p><li><p><strong><code class="language-plaintext highlighter-rouge">field2</code></strong>: <code class="language-plaintext highlighter-rouge">?</code>, <code class="language-plaintext highlighter-rouge">#</code>, <code class="language-plaintext highlighter-rouge">-</code> =&gt; <code class="language-plaintext highlighter-rouge">.</code></p></ul><p> </p><p> </p><h3 id="4-join">4. join<a href="#4-join" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>배열을 하나의 문자로 합친다.</p><p> </p><p><strong>logstash.conf</strong></p><div class="language-ruby highlighter-rouge"><div class="code-header"> <span label-text="Ruby"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="n">input</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}</span>

<span class="n">filter</span> <span class="p">{</span>
   <span class="n">mutate</span> <span class="p">{</span>
     <span class="n">join</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="s2">"field1"</span> <span class="o">=&gt;</span> <span class="s2">","</span> <span class="p">}</span>
   <span class="p">}</span>
 <span class="p">}</span>

<span class="n">output</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}</span>
</pre></table></code></div></div><p> </p><p><strong>input / output</strong></p><p><img width="500" alt="스크린샷 2020-04-11 오후 8 24 50" data-src="https://user-images.githubusercontent.com/25674959/79042395-80d6ef00-7c32-11ea-895a-d52bff6f37b0.png" data-proofer-ignore></p><p> </p><p> </p><h3 id="5-split">5. split<a href="#5-split" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>하나의 문자를 배열로 쪼갠다.</p><p> </p><p><strong>logstash.conf</strong></p><div class="language-ruby highlighter-rouge"><div class="code-header"> <span label-text="Ruby"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="n">input</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}</span>

<span class="n">filter</span> <span class="p">{</span>
  <span class="n">mutate</span> <span class="p">{</span>
    <span class="nb">split</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="s2">"field1"</span> <span class="o">=&gt;</span> <span class="s2">","</span> <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">output</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}</span>
</pre></table></code></div></div><p> </p><p><strong>input / output</strong></p><p><img width="500" alt="스크린샷 2020-04-11 오후 9 01 31" data-src="https://user-images.githubusercontent.com/25674959/79043053-a4506880-7c37-11ea-8376-d26faf3f7640.png" data-proofer-ignore></p><p>구분자가 해당 필드에 존재하지 않는 경우에도 필드는 배열로 바뀌는 것을 알 수 있다.</p><p><code class="language-plaintext highlighter-rouge">join</code> 옵션과 반대 개념이다.</p><p> </p><p> </p><h3 id="6-lowercase-uppercase">6. lowercase, uppercase<a href="#6-lowercase-uppercase" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>소문자(대문자) 로 변경</p><p> </p><p><strong>logstash.conf</strong></p><div class="language-ruby highlighter-rouge"><div class="code-header"> <span label-text="Ruby"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="n">input</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}</span>

<span class="n">filter</span> <span class="p">{</span>
  <span class="n">mutate</span> <span class="p">{</span>
    <span class="n">lowercase</span> <span class="o">=&gt;</span> <span class="p">[</span> <span class="s2">"field1"</span><span class="p">,</span> <span class="s2">"field3"</span> <span class="p">]</span>
    <span class="n">uppercase</span> <span class="o">=&gt;</span> <span class="p">[</span> <span class="s2">"field4"</span> <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">output</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}</span>
</pre></table></code></div></div><p> </p><p><strong>input / output</strong></p><p><img width="500" alt="스크린샷 2020-04-11 오후 8 32 54" data-src="https://user-images.githubusercontent.com/25674959/79042538-a1537900-7c33-11ea-8b49-e1604efb906f.png" data-proofer-ignore></p><p> </p><p> </p><h3 id="7-capitalize">7. capitalize<a href="#7-capitalize" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>첫 글자를 대문자화, 이외는 소문자화 한다.</p><p> </p><p><strong>logstash.conf</strong></p><div class="language-ruby highlighter-rouge"><div class="code-header"> <span label-text="Ruby"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="n">input</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}</span>

<span class="n">filter</span> <span class="p">{</span>
  <span class="n">mutate</span> <span class="p">{</span>
    <span class="n">capitalize</span> <span class="o">=&gt;</span> <span class="p">[</span> <span class="s2">"field1"</span> <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">output</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}</span>
</pre></table></code></div></div><p> </p><p><strong>input / output</strong></p><p><img width="500" alt="스크린샷 2020-04-11 오후 10 08 20" data-src="https://user-images.githubusercontent.com/25674959/79044598-f8137f80-7c40-11ea-9b14-a7a6caaf06cd.png" data-proofer-ignore></p><p> </p><p> </p><h3 id="8-merge">8. merge<a href="#8-merge" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>해당 필드 값들을 다른 필드에 포함시킨다.</p><p> </p><p><strong>logstash.conf</strong></p><div class="language-ruby highlighter-rouge"><div class="code-header"> <span label-text="Ruby"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="n">input</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}</span>

<span class="n">filter</span> <span class="p">{</span>
  <span class="n">mutate</span> <span class="p">{</span>
    <span class="n">merge</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="s2">"field2"</span> <span class="o">=&gt;</span> <span class="s2">"field1"</span> <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">output</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}</span>
</pre></table></code></div></div><p> </p><p><strong>input / output</strong></p><p><img width="500" alt="스크린샷 2020-04-11 오후 8 37 56" data-src="https://user-images.githubusercontent.com/25674959/79042631-6aca2e00-7c34-11ea-97ae-7c1ca6ae6aaf.png" data-proofer-ignore></p><ul><li><p><code class="language-plaintext highlighter-rouge">"banana"</code> + <code class="language-plaintext highlighter-rouge">["apple", "melon"]</code> =&gt; <code class="language-plaintext highlighter-rouge">["apple", "melon", "banana"]</code></p><li><code class="language-plaintext highlighter-rouge">["banana", "mango"]</code> + <code class="language-plaintext highlighter-rouge">["apple", "melon"]</code> =&gt; <code class="language-plaintext highlighter-rouge">["apple", "melon", "banana", "mango"]</code><li><code class="language-plaintext highlighter-rouge">"banana"</code> + <code class="language-plaintext highlighter-rouge">"apple"</code> =&gt; <code class="language-plaintext highlighter-rouge">["banana", "apple"]</code><li><code class="language-plaintext highlighter-rouge">["banana", "mango"]</code> + “apple” =&gt; <code class="language-plaintext highlighter-rouge">["apple", "banana", "mango"]</code></ul><p> </p><p> </p><h3 id="9-coerce">9. coerce<a href="#9-coerce" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>필드 값이 null인 경우에 기본값을 넣어준다.</p><p> </p><p><strong>logstash.conf</strong></p><div class="language-ruby highlighter-rouge"><div class="code-header"> <span label-text="Ruby"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="n">input</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}</span>

<span class="n">filter</span> <span class="p">{</span>
  <span class="n">mutate</span> <span class="p">{</span>
    <span class="n">coerce</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="s2">"field2"</span> <span class="o">=&gt;</span> <span class="s2">"empty"</span> <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">output</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}</span>
</pre></table></code></div></div><p> </p><p><strong>input / output</strong></p><p><img width="500" alt="스크린샷 2020-04-11 오후 8 46 54" data-src="https://user-images.githubusercontent.com/25674959/79042786-97327a00-7c35-11ea-9866-b13f25c83115.png" data-proofer-ignore></p><p>단, input에 해당 필드가 key로 존재하지 않는 경우에는 기본값을 넣지 않는다. ( null 값이 있는 경우에는 대체 함.)</p><p>ex. input이 <code class="language-plaintext highlighter-rouge">{ "username": "bactoria" }</code> 인 경우 <code class="language-plaintext highlighter-rouge">field1</code> 필드가 생성되지 않음.</p><p> </p><p> </p><h3 id="10-update">10. update<a href="#10-update" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>해당 필드의 값을 특정값으로 대체한다.</p><p> </p><p><strong>logstash.conf</strong></p><div class="language-ruby highlighter-rouge"><div class="code-header"> <span label-text="Ruby"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="n">input</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}</span>

<span class="n">filter</span> <span class="p">{</span>
  <span class="n">mutate</span> <span class="p">{</span>
    <span class="n">update</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="s2">"message"</span> <span class="o">=&gt;</span> <span class="s2">"%{source_host}: My new message"</span> <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">output</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}</span>
</pre></table></code></div></div><p> </p><p><strong>input / output</strong></p><p><img width="500" alt="스크린샷 2020-04-11 오후 10 00 40" data-src="https://user-images.githubusercontent.com/25674959/79044399-ea112f00-7c3f-11ea-93ad-512f9b1f2aa0.png" data-proofer-ignore></p><p>input에서 <code class="language-plaintext highlighter-rouge">message</code> 필드가 들어오지 않는 경우 <code class="language-plaintext highlighter-rouge">message</code> 필드를 생성하지 않는다. (<code class="language-plaintext highlighter-rouge">replace</code>옵션은 필드를 생성함)</p><p>ex) input이 <code class="language-plaintext highlighter-rouge">{ }</code> , <code class="language-plaintext highlighter-rouge">{ "source_host": "54.17.150.184" }</code> 인 경우 <code class="language-plaintext highlighter-rouge">field1</code> 필드가 생성되지 않았다.</p><p> </p><p> </p><h3 id="11-replace">11. replace<a href="#11-replace" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>해당 필드의 값을 특정값으로 대체한다.</p><p> </p><p><strong>logstash.conf</strong></p><div class="language-ruby highlighter-rouge"><div class="code-header"> <span label-text="Ruby"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="n">input</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}</span>

<span class="n">filter</span> <span class="p">{</span>
  <span class="n">mutate</span> <span class="p">{</span>
    <span class="n">replace</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="s2">"message"</span> <span class="o">=&gt;</span> <span class="s2">"%{source_host}: My new message"</span> <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">output</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}</span>
</pre></table></code></div></div><p> </p><p><strong>input / output</strong></p><p><img width="500" alt="스크린샷 2020-04-11 오후 8 56 31" data-src="https://user-images.githubusercontent.com/25674959/79042958-edec8380-7c36-11ea-995d-6b4f51222bb4.png" data-proofer-ignore></p><p>input에서 <code class="language-plaintext highlighter-rouge">message</code> 필드가 들어오지 않는 경우 <code class="language-plaintext highlighter-rouge">message</code> 필드를 생성하여 대체한다. (<code class="language-plaintext highlighter-rouge">update</code>옵션은 생성하지 않음)</p><p>ex) input이 <code class="language-plaintext highlighter-rouge">{ }</code> , <code class="language-plaintext highlighter-rouge">{ "source_host": "54.17.150.184" }</code>인 경우 <code class="language-plaintext highlighter-rouge">message</code> 필드가 대체되었다.</p><p> </p><p> </p><h3 id="12-strip">12. strip<a href="#12-strip" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>좌우 공백을 제거한다.</p><p> </p><p><strong>logstash.conf</strong></p><div class="language-ruby highlighter-rouge"><div class="code-header"> <span label-text="Ruby"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="n">input</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}</span>

<span class="n">filter</span> <span class="p">{</span>
  <span class="n">mutate</span> <span class="p">{</span>
      <span class="n">strip</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s2">"searchKeyword"</span><span class="p">,</span> <span class="s2">"username"</span><span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">output</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}</span>
</pre></table></code></div></div><p> </p><p><strong>input / output</strong></p><p><img width="500" alt="스크린샷 2020-04-12 오전 11 47 05" data-src="https://user-images.githubusercontent.com/25674959/79059313-5d07bd80-7cb3-11ea-8a39-5fed9e59fbaf.png" data-proofer-ignore></p><p><code class="language-plaintext highlighter-rouge">trim()</code> 함수와 같은 기능이다.</p><p>참고로 단어 사이의 공백은 제거되지 않는다. ex) <code class="language-plaintext highlighter-rouge">박토리 아</code></p><p> </p><p> </p><h3 id="13-rename">13. rename<a href="#13-rename" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>해당 필드의 이름을 변경한다.</p><p> </p><p><strong>logstash.conf</strong></p><div class="language-ruby highlighter-rouge"><div class="code-header"> <span label-text="Ruby"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="n">input</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}</span>

<span class="n">filter</span> <span class="p">{</span>
  <span class="n">mutate</span> <span class="p">{</span>
    <span class="n">rename</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="s2">"HOSTORIP"</span> <span class="o">=&gt;</span> <span class="s2">"client_ip"</span> <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">output</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}</span>
</pre></table></code></div></div><p> </p><p><strong>input / output</strong></p><p><img width="500" alt="스크린샷 2020-04-11 오후 8 51 40" data-src="https://user-images.githubusercontent.com/25674959/79042873-41aa9d00-7c36-11ea-88f8-e2780828fcf9.png" data-proofer-ignore></p><p> </p><p> </p><hr /><h3 id="ps-mutate-옵션-실행-순서">P.S) mutate 옵션 실행 순서<a href="#ps-mutate-옵션-실행-순서" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>mutate의 옵션에는 실행순서가 있다.</p><p> </p><p><strong>logstash.conf</strong></p><div class="language-ruby highlighter-rouge"><div class="code-header"> <span label-text="Ruby"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="n">input</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}</span>

<span class="n">filter</span> <span class="p">{</span>
  <span class="n">mutate</span> <span class="p">{</span>
    <span class="n">copy</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="s2">"field"</span> <span class="o">=&gt;</span> <span class="s2">"field_copied"</span>
    <span class="p">}</span>
    <span class="n">uppercase</span> <span class="o">=&gt;</span> <span class="p">[</span> <span class="s2">"field"</span> <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">output</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}</span>
</pre></table></code></div></div><p><strong>input / output</strong></p><p><img width="500" alt="스크린샷 2020-04-12 오전 4 10 59" data-src="https://user-images.githubusercontent.com/25674959/79052762-adf7c180-7c73-11ea-9bf8-893bfac4d56c.png" data-proofer-ignore></p><p> </p><p>위의 결과는 순차적으로 처리된다면 <code class="language-plaintext highlighter-rouge">{ "field": "ABCD", "field_copied": "abcd" }</code> 일 것이다.</p><p>공교롭게도 결과는 <code class="language-plaintext highlighter-rouge">{ "field": "ABCD", "field_copied": "ABCD" }</code> 이다.</p><p> </p><p>그 이유는 옵션 별로 실행 순서가 정해져 있어 <code class="language-plaintext highlighter-rouge">uppercase</code> 옵션 실행 이후에 <code class="language-plaintext highlighter-rouge">copy</code> 옵션이 실행되기 때문이다.</p><p>실행 순서에 대해서는 <a href="https://www.elastic.co/guide/en/logstash/current/plugins-filters-mutate.html#plugins-filters-mutate-proc_order">공식문서</a>에 나와있다.</p><p> </p><h4 id="만약-copy-옵션을-먼저-실행하고자-한다면-어떻게-해야-할까">만약 <code class="language-plaintext highlighter-rouge">copy</code> 옵션을 먼저 실행하고자 한다면 어떻게 해야 할까?<a href="#만약-copy-옵션을-먼저-실행하고자-한다면-어떻게-해야-할까" class="anchor"><i class="fas fa-hashtag"></i></a></h4></h4><p>아래와 같이 mutation을 따로 선언해주면 <code class="language-plaintext highlighter-rouge">copy</code> 옵션 실행 이후에 <code class="language-plaintext highlighter-rouge">uppercase</code> 옵션이 실행된다.</p><p> </p><p><strong>logstash.conf</strong></p><div class="language-ruby highlighter-rouge"><div class="code-header"> <span label-text="Ruby"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre><span class="n">input</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}</span>

<span class="n">filter</span> <span class="p">{</span>
  <span class="n">mutate</span> <span class="p">{</span>
    <span class="n">copy</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="s2">"field"</span> <span class="o">=&gt;</span> <span class="s2">"field_copied"</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="n">mutate</span> <span class="p">{</span>
    <span class="n">uppercase</span> <span class="o">=&gt;</span> <span class="p">[</span> <span class="s2">"field"</span> <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">output</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}</span>
</pre></table></code></div></div><p> </p><p><strong>input / output</strong></p><p><img width="500" alt="스크린샷 2020-04-12 오전 4 17 56" data-src="https://user-images.githubusercontent.com/25674959/79052914-9836cc00-7c74-11ea-99cc-263d66fb5b49.png" data-proofer-ignore></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/elasticsearch/'>Elasticsearch</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> 이 기사는 저작권자의 <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> 라이센스를 따릅니다.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">공유하기</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=로그스태시 mutate filter plugin 파헤치기 - Bactoria&url=https://bactoria.github.io/2020/04/12/%EB%A1%9C%EA%B7%B8%EC%8A%A4%ED%83%9C%EC%8B%9C-mutate-filter-plugin-%ED%8C%8C%ED%97%A4%EC%B9%98%EA%B8%B0/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=로그스태시 mutate filter plugin 파헤치기 - Bactoria&u=https://bactoria.github.io/2020/04/12/%EB%A1%9C%EA%B7%B8%EC%8A%A4%ED%83%9C%EC%8B%9C-mutate-filter-plugin-%ED%8C%8C%ED%97%A4%EC%B9%98%EA%B8%B0/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=로그스태시 mutate filter plugin 파헤치기 - Bactoria&url=https://bactoria.github.io/2020/04/12/%EB%A1%9C%EA%B7%B8%EC%8A%A4%ED%83%9C%EC%8B%9C-mutate-filter-plugin-%ED%8C%8C%ED%97%A4%EC%B9%98%EA%B8%B0/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="링크 복사하기" title-succeed="링크가 복사되었습니다!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">최근 업데이트</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/2022/02/04/2022%EB%85%84-1%EC%9B%94-%ED%9A%8C%EA%B3%A0/">2022년 1월 회고</a><li><a href="/2022/01/02/2021%EB%85%84-%ED%9A%8C%EA%B3%A0/">2021년 회고</a><li><a href="/2020/04/19/%EB%A7%88%EC%8A%A4%ED%81%AC-%EA%B5%AC%EB%A7%A4-%EC%95%8C%EB%A6%AC%EB%AF%B8-%EC%84%9C%EB%B9%84%EC%8A%A4-%ED%9B%84%EA%B8%B0/">마스크 구매 알리미 서비스 후기</a><li><a href="/2021/08/15/%EA%B3%A0%EC%96%91%EC%8B%9C-%EB%85%B8%EA%B3%A0%EC%82%B0-%EB%B0%B1%ED%8C%A8%ED%82%B9/">고양시 노고산 백패킹</a><li><a href="/2021/05/16/2021%EB%85%84-19%EC%A3%BC%EC%B0%A8-%ED%9A%8C%EA%B3%A0/">2021년 19주차 회고</a></ul></div><div id="access-tags"><div class="panel-heading">인기 태그</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/%EA%B3%B5%EB%AA%A8%EC%A0%84/">공모전</a> <a class="post-tag" href="/tags/%EB%B9%85%EC%8A%A4%EB%B9%84%EC%B1%8C%EB%A6%B0%EC%A7%80/">빅스비챌린지</a> <a class="post-tag" href="/tags/%EC%9D%B4%EB%B2%88%EC%A3%BC%EC%97%90%EA%B5%AC%EB%A7%A4%ED%95%9C%EC%B1%85/">이번주에구매한책</a> <a class="post-tag" href="/tags/%EA%B0%9C%EB%B0%9C/">개발</a> <a class="post-tag" href="/tags/%EA%B5%AC%EA%B8%80%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C%EC%9E%BC/">구글클라우드잼</a> <a class="post-tag" href="/tags/%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8/">오브젝트</a> <a class="post-tag" href="/tags/%EC%9A%B0%EC%95%84%ED%95%9C%ED%85%8C%ED%81%AC%EC%BD%94%EC%8A%A4/">우아한테크코스</a> <a class="post-tag" href="/tags/%EC%B7%A8%EC%97%85/">취업</a> <a class="post-tag" href="/tags/%ED%94%BC%EB%93%9C%EB%B0%B1/">피드백</a> <a class="post-tag" href="/tags/coc/">CoC</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">바로가기</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>관련된 글</h3><div class="card-deck mb-4"><div class="card"> <a href="/2020/03/24/%EC%97%98%EB%9D%BC%EC%8A%A4%ED%8B%B1%EC%84%9C%EC%B9%98%EB%A1%9C-%EC%9D%B8%EA%B8%B0%EA%B2%80%EC%83%89%EC%96%B4-%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81-%ED%95%B4%EB%B3%B4%EC%9E%90-(1)-%EC%97%98%EB%9D%BC%EC%8A%A4%ED%8B%B1%EC%84%9C%EC%B9%98%EC%97%90-%EC%95%A1%EC%84%B8%EC%8A%A4%EB%A1%9C%EA%B7%B8-%EC%8C%93%EA%B8%B0/"><div class="card-body"> <em class="timeago small" date="2020-03-24 00:12:12 +0000" >2020년 03월 24일</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>엘라스틱서치로 인기검색어 모니터링 해보자 (1) - 엘라스틱서치에 액세스로그 쌓기</h3><div class="text-muted small"><p> 지난번에 6주간 했던 푸드트럭 프로젝트는 Nginx를 이용하면서 액세스 로그를 쌓아왔기에, 이를 Kibana로 시각화하고 싶었다. 목표는 이용자들의 인기검색어를 Kibana로 모니터링 해보는 것. 개발 환경 OS : Ubuntu 18.04.1 LTS Nginx : 1.14.0 Logstash: 7.4.1 ...</p></div></div></a></div><div class="card"> <a href="/2020/03/24/%EC%97%98%EB%9D%BC%EC%8A%A4%ED%8B%B1%EC%84%9C%EC%B9%98%EB%A1%9C-%EC%9D%B8%EA%B8%B0%EA%B2%80%EC%83%89%EC%96%B4-%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81-%ED%95%B4%EB%B3%B4%EC%9E%90-(2)-%EC%97%98%EB%9D%BC%EC%8A%A4%ED%8B%B1%EC%84%9C%EC%B9%98%EC%97%90-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%9E%98-%EC%8C%93%EA%B8%B0/"><div class="card-body"> <em class="timeago small" date="2020-03-24 02:59:12 +0000" >2020년 03월 24일</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>엘라스틱서치로 인기검색어 모니터링 해보자 (2) - 엘라스틱서치에 데이터 예쁘게 쌓기</h3><div class="text-muted small"><p> 지난번에 6주간 했던 푸드트럭 프로젝트는 Nginx를 이용하면서 액세스 로그를 쌓아왔기에, 이를 Kibana로 시각화하고 싶었다. 목표는 이용자들의 인기검색어를 Kibana로 모니터링 해보는 것. 이전글 (엘라스틱서치로 인기검색어 모니터링 해보자 (1) - 엘라스틱서치에 액세스로그 쌓기) 에서 액세스로그를 Elasticsearch로 저장하였고, ...</p></div></div></a></div><div class="card"> <a href="/2022/02/04/2022%EB%85%84-1%EC%9B%94-%ED%9A%8C%EA%B3%A0/"><div class="card-body"> <em class="timeago small" date="2022-02-04 07:26:33 +0000" >2022년 02월 04일</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>2022년 1월 회고</h3><div class="text-muted small"><p> 코드 리뷰어 2022 공채 신입 코드리뷰어 로 활동하고 있다. 조직에 합류하기 전 인턴 때 코드 리뷰를 받으면서 많이 성장했다고 느꼈기에 나도 되돌려주고 싶었다. 코드 리뷰는 대부분 업무시간을 할애하긴 하지만, 새벽에 리뷰를 하는 경우도 있어 체력적으로 힘이 들었는데, 뉴크루가 성장하는 모습이 너무 대놓고 보여서 뿌듯함을 느낀다. 리뷰이가 앞으로 조...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/2020/03/24/%EC%97%98%EB%9D%BC%EC%8A%A4%ED%8B%B1%EC%84%9C%EC%B9%98%EB%A1%9C-%EC%9D%B8%EA%B8%B0%EA%B2%80%EC%83%89%EC%96%B4-%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81-%ED%95%B4%EB%B3%B4%EC%9E%90-(2)-%EC%97%98%EB%9D%BC%EC%8A%A4%ED%8B%B1%EC%84%9C%EC%B9%98%EC%97%90-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%9E%98-%EC%8C%93%EA%B8%B0/" class="btn btn-outline-primary" prompt="이전 글"><p>엘라스틱서치로 인기검색어 모니터링 해보자 (2) - 엘라스틱서치에 데이터 예쁘게 쌓기</p></a> <a href="/2020/04/19/%EB%A7%88%EC%8A%A4%ED%81%AC-%EA%B5%AC%EB%A7%A4-%EC%95%8C%EB%A6%AC%EB%AF%B8-%EC%84%9C%EB%B9%84%EC%8A%A4-%ED%9B%84%EA%B8%B0/" class="btn btn-outline-primary" prompt="다음 글"><p>마스크 구매 알리미 서비스 후기</p></a></div><div id="disqus_thread" class="pt-2 pb-2"><p class="text-center text-muted small"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script type="text/javascript"> var disqus_config = function () { this.page.url = 'https://bactoria.github.io/2020/04/12/%EB%A1%9C%EA%B7%B8%EC%8A%A4%ED%83%9C%EC%8B%9C-mutate-filter-plugin-%ED%8C%8C%ED%97%A4%EC%B9%98%EA%B8%B0/'; this.page.identifier = '/2020/04/12/%EB%A1%9C%EA%B7%B8%EC%8A%A4%ED%83%9C%EC%8B%9C-mutate-filter-plugin-%ED%8C%8C%ED%97%A4%EC%B9%98%EA%B8%B0/'; }; /* Lazy loading */ var disqus_observer = new IntersectionObserver(function (entries) { if(entries[0].isIntersecting) { (function () { var d = document, s = d.createElement('script'); s.src = 'https://bactoria.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); disqus_observer.disconnect(); } }, { threshold: [0] }); disqus_observer.observe(document.querySelector('#disqus_thread')); /* Auto switch theme */ function reloadDisqus() { /* Disqus hasn't been loaded */ if (typeof DISQUS === "undefined") { return; } if (document.readyState == 'complete') { DISQUS.reset({ reload: true, config: disqus_config }); } } const modeToggle = document.querySelector(".mode-toggle"); if (typeof modeToggle !== "undefined") { /* modeToggle.addEventListener('click', reloadDisqus); // not pretty for 'color-scheme' */ window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', reloadDisqus); } </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://github.com/bactoria">bactoria</a>. <span data-toggle="tooltip" data-placement="top" title="명시되지 않는 한 이 사이트의 블로그 게시물은 작성자의 Creative Commons Attribution 4.0 International(CC BY 4.0) 라이선스에 따라 사용이 허가되었습니다.">일부 권리 보유</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">인기 태그</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/%EA%B3%B5%EB%AA%A8%EC%A0%84/">공모전</a> <a class="post-tag" href="/tags/%EB%B9%85%EC%8A%A4%EB%B9%84%EC%B1%8C%EB%A6%B0%EC%A7%80/">빅스비챌린지</a> <a class="post-tag" href="/tags/%EC%9D%B4%EB%B2%88%EC%A3%BC%EC%97%90%EA%B5%AC%EB%A7%A4%ED%95%9C%EC%B1%85/">이번주에구매한책</a> <a class="post-tag" href="/tags/%EA%B0%9C%EB%B0%9C/">개발</a> <a class="post-tag" href="/tags/%EA%B5%AC%EA%B8%80%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C%EC%9E%BC/">구글클라우드잼</a> <a class="post-tag" href="/tags/%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8/">오브젝트</a> <a class="post-tag" href="/tags/%EC%9A%B0%EC%95%84%ED%95%9C%ED%85%8C%ED%81%AC%EC%BD%94%EC%8A%A4/">우아한테크코스</a> <a class="post-tag" href="/tags/%EC%B7%A8%EC%97%85/">취업</a> <a class="post-tag" href="/tags/%ED%94%BC%EB%93%9C%EB%B0%B1/">피드백</a> <a class="post-tag" href="/tags/coc/">CoC</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">검색 결과가 없습니다.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script>
